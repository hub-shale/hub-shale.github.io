[
  {
    "path": "posts/2021-12-01-grade-bias-analysis/",
    "title": "Grade Bias Analysis",
    "description": "A statistical analysis of grading bias for TAs in a UCSB Art History course.",
    "author": [
      {
        "name": "Shale Hunter",
        "url": {}
      }
    ],
    "date": "2021-12-02",
    "categories": [],
    "contents": "\n\nContents\nStatistical analysis of grading biases\nIntroduction\nTidying the data\nVerifying basic assumptions of normality\nAutocorrelation\nGender Bias\nConclusion\n\n\nStatistical analysis of grading biases\nIntroduction\nThe basic idea for this little project came to me when I was grading essays a few months ago for the class I am TAing this fall: as I methodically plodded through page after page of art history interpretation of dubious quality, I began to wonder if I were really treating each essay with equal care. By the time I graded my 50th and final essay, I was sure that I was not.\nWhile I wasn’t particularly happy with my intuitive conclusion that I probably wasn’t being the fairest possible grader for my students, I was also a very busy masters student who wasn’t going to spend an extra \\(15 min/essay * 50 essays= 12.5 hours\\) to ensure that I was being 100% objective in my grading1. That said, the issue continued to linger in the back of my mind. So, when I was presented with the mandatory opportunity to conduct a self-driven statistical analysis for my Statistics for Environmental Data Science class, I jumped at the opportunity to tackle a question that had been nagging at me for several weeks, now secure in the knowledge that my curiosity would now be counted as progress towards my degree.\nWhat follows is a statistical exploration of possible grading biases in 5 Teaching Assistants (including myself) and their 229 students who actually turned in essays.\nTidying the data\nAs TA, I have access to a whole lot of confidential student data which I probably shouldn’t be sharing via a public blog post for any old internet traveler to discover and exploit. So I began by cleaning up the raw data both in order to protect student’s privacy and to remove any unusable or missing data.\nThe cleaned dataset is available by request for anyone who wants to recreate the results of my actual statistical analysis with data that maintains the privacy of my students.\n\n\nhide\n\ndata_clean = read.csv(\"grading_bias_data_clean.csv\")\n\n\n\nThe basic components of the cleaned dataset are as follows:\n- name: Student name (last, first initial), partially anonymized\n- pronouns: Self-reported student pronouns (not present for all students)\n- TA: Teaching Assistant (Surname) and section, used for ordering students\n- essay: essay grade, %\n- quizzes_pct: cumulative quiz grade, %\n- participation_pct: cumulative participation grade, % (not used in this analysis because some TAs had not finished entering participation grades at the time data was accessed)\n\n\nhide\n\ngt(head(data_clean, n=3))\n\n\n\nhtml {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#sqototluha .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#sqototluha .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#sqototluha .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#sqototluha .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#sqototluha .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#sqototluha .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#sqototluha .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#sqototluha .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#sqototluha .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#sqototluha .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#sqototluha .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#sqototluha .gt_group_heading {\n  padding: 8px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#sqototluha .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#sqototluha .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#sqototluha .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#sqototluha .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#sqototluha .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 12px;\n}\n\n#sqototluha .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#sqototluha .gt_first_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n}\n\n#sqototluha .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#sqototluha .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#sqototluha .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#sqototluha .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#sqototluha .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#sqototluha .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding: 4px;\n}\n\n#sqototluha .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#sqototluha .gt_sourcenote {\n  font-size: 90%;\n  padding: 4px;\n}\n\n#sqototluha .gt_left {\n  text-align: left;\n}\n\n#sqototluha .gt_center {\n  text-align: center;\n}\n\n#sqototluha .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#sqototluha .gt_font_normal {\n  font-weight: normal;\n}\n\n#sqototluha .gt_font_bold {\n  font-weight: bold;\n}\n\n#sqototluha .gt_font_italic {\n  font-style: italic;\n}\n\n#sqototluha .gt_super {\n  font-size: 65%;\n}\n\n#sqototluha .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 65%;\n}\nname\n      pronouns\n      TA\n      essay\n      quizzes_pct\n      participation_pct\n    Barrientos C\nHe/Him/His\nHu]_10\n85\n60.19\n0Betova A\nShe/Her/Hers\nHu]_10\n88\n78.70\n0Bhaduri A\n\nHu]_10\n88\n86.11\n0\n\nVerifying basic assumptions of normality\nBefore getting started with answering my question, I’ll take a quick look at the data to make sure it satisfies some basic requirements for normality. The basic histograms below show that essays (A) have a reasonably normal distribution (with one obvious low outlier). Quizzes grades (C), on the other hand, look like a log distribution might fit better - unfortunately, the log of quiz grades (D) also looks like it would fit a log normal curve (and so does the log of the log). So at this point I decided to just roll with the original quiz data with the recognition that any standard errors retrieved from this analysis will be effected, but bias should remain unaffected. Likewise, the pronouns data (B), which will be used in a follow-up analysis, have some clear limitations because of the uneven distribution of students who have listed their pronouns, particularly nonbinary students.\n\n\nhide\n\nessays = ggplot(data_clean, aes(x=essay)) + geom_histogram(bins = 40) + xlab(\"essay grade\")\n\npronoun = data_clean %>% \n  count(pronouns) %>% \n  ggplot(aes(x=pronouns, y=n)) + geom_col() +\n  geom_text(aes(label=n), position=position_dodge(width=0.9), vjust=-0.25) + theme(axis.text.x = element_text(angle = 10))\n\n# quizzes stuff:\n\nquiz = ggplot(data_clean, aes(x=quizzes_pct)) + geom_histogram() + xlab(\"quiz grade\")\n\nlog_qz = data_clean %>% \n  mutate(log_quiz = log(quizzes_pct))\nlog_quizzes = ggplot(log_qz, aes(x=log_quiz)) + geom_histogram() + xlab(\"log(quiz grade)\")\n\nggarrange(essays, pronoun, quiz, log_quizzes,\n          labels = c(\"A\", \"B\", \"C\", \"D\"),\n          ncol = 2, nrow = 2)\n\n\n\n\nAutocorrelation\nThe goal of this analysis is to see if the team of Teaching Assistants (myself included) has been grading in a biased way. Specifically, because we/I graded the essay assignment in alphabetical order, it is possible to track if I graded a student’s essay “in response” to the previous student’s essay instead of based on the essay’s individual merit. Hypothetically, this could take two forms: 1) differential grading, in which an essay is graded higher than it ought to be because the essay before was of particularly poor quality, or and essay is graded lower than it ought to be because the essay before was of particularly high quality. Or 2) uniform grading, in which an essay is graded higher/lower than it ought to be because it isn’t all that different from the previous essay, and takes on a grade similar/identical to that of the previous essay. The null hypothesis here is that there is no effect by the previous essay’s grade on the current essay, and therefore no grading bias (yay!).\nTo test this, we can use the acf() function, which compares each essay grade to each of the previous essay grades in data_clean up to lag.max. In this first example, we simply use a lag of 1 to compare each essay to the one immediately preceding it.\n\n\nhide\n\nbias_acf = acf(data_clean$essay, lag.max = 1)\n\n\n\n\nFigure 1: ACF plot with a lag of 1, no significant results.\n\n\n\nAs the autocorrelation plot above shows, there is no relationship between an essay’s grade and its predecessor (as we would hope to see!). The dotted blue lines show the cutoff for statistical significance at a 95% confidence interval: because the autocorrelation value at lag = 1 is between 0 and the blue line (0.0167293 to be precise), it is statistically insignificant.\nWhile my initial hypothesis was that essays graded immediately next to each other might be correlated, the autocorrelation performed above failed to reject the null hypothesis that there was zero correlation between grades. This is good news, but there are other ways we can use acf() to see if grading bias was introduced another way.\nNext, we can use a larger lag in order to see if an essay’s grade is correlated with grades of essays farther away on the roster:\n\n\nhide\n\nbias_acf10 = acf(data_clean$essay, lag.max = 10)\n\n\n\n\nFigure 2: ACF plot with lag of 10, significant results at lag = 4, 7 (indicated by passing the dotted blue line).\n\n\n\nInterestingly, this autocorrelation plot with a maximum lag of 10 shows that there are two points where an essay’s grade is correlated with other essay’s grades such that the acf value rises above the cutoff for statistical significance: t-4 and t-7.\nWhile these results are unexpected, there are several possible explanations for why this might be the case: firstly, it is a possibility that all TAs graded essays in groups of 3-4 in order to avoid getting tired of grading and thereby giving lower grades to essays graded later on. If each grader came back from each break feeling more refreshed, happier, and more likely to give a better grade on an essay, then a pattern such as the one above might appear. However, it is important to note that at no point is there ever a significant negative autocorrelation, which seems to argue against a pattern like this - if an essay’s placement at the beginning of such a group lead to higher grades, then another essay’s placement at the end of the group should likewise indicate lower grades, and a negative acf value. But, that is clearly not the case in this data.\nAn alternative explanation is that TAs may be consciously or unconsciously tracking the numbers of A’s, B’s, or C’s they have given, and compensating for higher or lower grades every few essays. For example, if a TA hadn’t given any A’s for several essays in a row, they might give the next essay an A in order to make up for a perceived deficit (even if the essay in question only really deserved a B+).\nIt should be noted that I ran the acf() function with a lag as high as 50 and no other significant correlations were found, so even if either of these biases were real the periodicity does not extend beyond a lag of 7.\nGender Bias\nBeyond my initial curiosity regarding the possibility of an autocorrelation bias in my grading, I was also recently reminded of the potential for gender bias in grading. So this next section will take a look at the subsection of students who have reported gender information on the class portal in order to identify a possible systemic devaluation of academic work based on gender.\nFor this test, we first need to restrict our observations to only those students who have provided pronouns.\n\n\nhide\n\ndata_gendered = data_clean %>% \n  filter(pronouns != \"\")\n\n\n\nThen, we can conduct a simple linear regression with the lm() function to see if there is an effect of gender on essay grades:\n\n\nhide\n\ngender_model_essay = lm(essay ~ pronouns + quizzes_pct, data = data_gendered)\ngender_summ = summary(gender_model_essay)\n\n\n\nInterestingly, the model gives a positive coefficient for women (1.2580465) but a negative coefficient for nonbinary (-2.5374933) in relationship to a male default. This means that the model expects women’s essay grades to be higher than men’s, but nonbinary students’ essays grades to be lower.\nThere are two major caveats to these results: firstly, neither of the gender coefficients had p-values even close to the traditional cutoff of 0.05 (she/her: 0.2728258, they/them: 0.4332378). Furthermore, with only 3 students listing their pronouns as They/Them/Theirs, it is particularly difficult to make stastically sound assumptions about this set of students even in relation to the rest of this dataset.\nAlthough none of the gender coefficients are significant (indicating a lack of any conclusive grading bias based on gender), the quizzes_pct coefficient of 0.1111361, which indicates that for every one percent increase in a student’s overall quiz grade their essay grade is expected to go up by 0.1111361 percentage points, is statistically significant at the 0.05 level given a p-value of 0.0118374. This validates my choice of quiz grade as a good benchmark against which we can test for bias, because it shows that a student’s own grades are correlated with each other (as they should be).\nAll of this can be visualized with the plot below:\n\n\nhide\n\nggplot(data = data_gendered, aes(x=quizzes_pct, y=essay, color=pronouns)) +\n  geom_jitter() +\n  geom_line(data = augment(gender_model_essay), aes(y = .fitted)) +\n  labs(title = \"Effect of Gender on Essay Grade Using Quiz Grade as Baseline\") +\n  xlab(\"Quiz Grade (%)\") +\n  ylab(\"Essay Grade (%)\") +\n  theme_bw()\n\n\n\n\nFigure 3: Essay grades are marginally higher for women and lower for nonbinary students as compared to men, but not statistically significant.\n\n\n\nVisualizing the model with the plot above makes it clear that there is a positive relationship between quiz grade and essay grade, as indicated by the positive and statistically significant quizzes_pct coefficient in the model. Likewise, though the offset of the lines for different genders shows women with overall higher grades and nonbinary students with overall lower grades than men, the large amount of spread in all the data points is a visual indicator that these results are not statistically significant.\nConclusion\nAfter conducting this analysis, I can more or less rest easy knowing that I am as honest a grader as can be expected. A linear model showed that essay grades were correlated with the same student’s quiz grades, but not significantly correlated with gender. Similarly, a test of autocorrelation showed that the grade of the essay immediately beforehand has no effect on an essay’s grade, which was my original concern. And while two essay lags were found to have significant correlation, this can be attributed to the type of human failings which are all too common, and are only being properly understood as we gather and interpret increasingly large amounts of data on the topic.\n\nAfter all, its an art history class, and an essay to boot - how much true objectivity is really expected here?↩︎\n",
    "preview": "posts/2021-12-01-grade-bias-analysis/grade_bias_analysis_files/figure-html5/unnamed-chunk-3-1.png",
    "last_modified": "2021-12-02T21:15:37-08:00",
    "input_file": {}
  },
  {
    "path": "posts/2021-08-10-hello/",
    "title": "Calculus for Dummies",
    "description": "A short introduction to deSolve::ode()",
    "author": [
      {
        "name": "Shale Hunter",
        "url": {}
      }
    ],
    "date": "2021-08-10",
    "categories": [],
    "contents": "\nThe Big Bad Math Monster\nAs I begin my Master’s in Environmental Data Science, I am both relieved and somewhat surprised to find that something like 23 of my 25 classmates are just as out of practice (read: afraid) of the amount of math we will need to recall from the dusty annals of high school as I am. I haven’t taken calculus in something like 7 years, and personally I never saw much similarity between calculus and riding a bike. Add to this the fact that the MEDS intensive summer program aims to teach a 2 credit course covering all the basics of math required for our degree in the span of 5 days, including all of calculus in 1.5 days, and everyone but the mathlete lifers will understand my trepidation.\nR to the Rescue\nMy saving grace during the time-warp of numbers and variables that was last week was the fact that I am, despite all appearances, not actually here to learn math. Instead, I am learning Data Science, which is a fancy way of saying that I get a computer to do all the scary math for me. A smattering of experience in R from my time as an undergrad at Tufts University has been just enough to keep me abreast of the tsunami of information that will continue to be my summer. Though I am gaining familiarity with Python, most of our time in class is spent in RStudio learning how (in my eyes) to return to my blissful math-free youth while inexplicably pursuing a career in Data Science. And that brings us to the ode() function in the deSolve package.\ndeSolve\ndeSolve is a handy package created by Thomas Petzoldt, Karline Soetaert, Rhyne Setzer, and others with the intended (and achieved) purpose of ordinary differential equations, partial differential equations, differential algebraic equations, and delay differential equations. A reader who knows what all of those things are is probably not very impressed with this functionality, but for anyone out there (like myself) who has perhaps never heard of a delay differential equation, this package has the potential to save months of confused Googling and the ever-present danger of a miswritten calculation - or at least will save the pride you would otherwise be swallowing to request the help of that one friend who inexplicably does this stuff for fun.\node()\nWithout getting too deep into the weeds, I’d like to take the time to cover the simplest of deSolve’s functions, ode().\n\n\n\n",
    "preview": {},
    "last_modified": "2021-08-17T12:02:44-07:00",
    "input_file": {}
  }
]
